<project xmlns="http://maven.apache.org/POM/4.0.0"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
			    http://maven.apache.org/maven-v4_0_0.xsd">
    <parent>
	<groupId>javax.mail</groupId>
	<artifactId>all</artifactId>
	<version>${mail.version}</version>
	<relativePath>../../pom.xml</relativePath>
    </parent>
    <modelVersion>4.0.0</modelVersion>
    <groupId>javax.mail</groupId>
    <artifactId>libmbox</artifactId>
    <packaging>so</packaging>
    <version>${mail.version}</version>
    <name>JavaMail API mbox native library</name>
    <description>JavaMail API mbox native library</description>
    <url>http://java.sun.com/projects/javamail</url>

    <build>
        <plugins>
	    <plugin>
		<groupId>org.codehaus.mojo</groupId>
		<artifactId>native-maven-plugin</artifactId>
		<extensions>true</extensions>
		<configuration>
		    <compilerProvider>generic</compilerProvider>
		    <compilerExecutable>c89</compilerExecutable>
		    <linkerExecutable>c89</linkerExecutable>
		    <compilerStartOptions>
			<compilerStartOption>
			    -Xa -xO2 -v -D_REENTRANT
			    -I/usr/java/include
			    -I/usr/java/include/solaris
			</compilerStartOption>
		    </compilerStartOptions>
		    <linkerStartOptions>
			<linkerStartOption>
			    -G
			</linkerStartOption>
		    </linkerStartOptions>
		    <linkerEndOptions>
			<linkerEndOption>
			    -L/usr/java/jre/lib/sparc
			    -lmail -ljava -lc
			</linkerEndOption>
		    </linkerEndOptions>
		    <sources>
			<source>
			    <directory>../src/main/cpp</directory>
			    <includes>
				<include>**/*.c</include>
			    </includes>
			</source>
			<source>
			    <directory>target/native/javah</directory>
			    <dependencyAnalysisParticipation>
				false
			    </dependencyAnalysisParticipation>
			</source>
		    </sources>
		</configuration>
		<executions>
		    <execution>
			<id>javah</id>
			<phase>generate-sources</phase>
			<goals>
			    <goal>javah</goal>
			</goals>
			<configuration>
			    <classNames>
				<className>
				    com.sun.mail.mbox.UNIXFile
				</className>
				<className>
				    com.sun.mail.mbox.UNIXInbox
				</className>
			    </classNames>
			</configuration>
		    </execution>
		</executions>
	    </plugin>
        </plugins>
    </build>

    <dependencies>
        <dependency>
            <groupId>javax.mail</groupId>
            <artifactId>mail</artifactId>
            <version>${mail.version}</version>
        </dependency>
        <dependency>
            <groupId>javax.mail</groupId>
            <artifactId>mbox</artifactId>
            <version>${mail.version}</version>
        </dependency>
    </dependencies>
</project>
